{"ast":null,"code":"import _slicedToArray from \"/home/jelly/Desktop/conduit_clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jelly/Desktop/conduit_clone/src/components/Profile/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport FollowButtonToggle from './FollowButtonToggle';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { FaCog } from 'react-icons/fa';\nimport history from '../../constants/history';\nimport { getProfile } from '../../actions/profile';\nimport { getArticlesByAuthor } from '../../actions/articles';\nimport ArticlePreviews from '../../components/ArticlePreviews';\nimport { GLOBAL_FEED } from '../../constants/tabName';\nimport { FETCHING, FETCH_OK, FETCH_ERROR } from '../../constants/fetchingStatus';\n\nconst Profile = props => {\n  const currentUser = props.currentUser;\n\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        profile = _useState2[0],\n        setProfile = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        articles = _useState4[0],\n        setArticles = _useState4[1];\n\n  const _useState5 = useState({}),\n        _useState6 = _slicedToArray(_useState5, 2),\n        articlesCount = _useState6[0],\n        setArticlesCount = _useState6[1];\n\n  const _useState7 = useState(FETCHING),\n        _useState8 = _slicedToArray(_useState7, 2),\n        fetchingStatus = _useState8[0],\n        setFetchingStatus = _useState8[1];\n\n  useEffect(() => {\n    getProfile(props.match.params.id).then(res => {\n      setProfile(res);\n    }).catch(err => {\n      throw err;\n    });\n    getArticlesByAuthor(props.match.params.id).then(res => {\n      setArticles(res.articles);\n      setArticlesCount(res.articlesCount);\n      setFetchingStatus(FETCH_OK);\n    }).catch(err => {\n      setFetchingStatus(FETCH_ERROR);\n      throw err;\n    });\n  }, [props.match.params.id]);\n\n  const handleClick = following => {\n    following ? axios.delete(\"\".concat(process.env.REACT_APP_API, \"/profiles/\").concat(profile.username, \"/follow\")).then() : axios.post(\"\".concat(process.env.REACT_APP_API, \"/profiles/\").concat(profile.username, \"/follow\")).then();\n  };\n\n  return React.createElement(\"div\", {\n    className: \"sm:px-8 sm:px-8 md:px-32 lg:px-32 py-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"bg-gray-200 text-gray-600\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, profile && React.createElement(\"div\", {\n    className: \"flex flex-wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"flex justify-center items-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: profile.image,\n    className: \"h-16 w-16 rounded-full\",\n    alt: profile.username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(\"h4\", {\n    className: \"w-full flex justify-center font-bold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, profile.username), React.createElement(\"p\", {\n    className: \"w-full flex justify-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, profile.bio), currentUser && currentUser.username === profile.username ? React.createElement(\"button\", {\n    className: \"w-full flex justify-center\",\n    onClick: () => history.push('/settings'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(FaCog, {\n    className: \"inline-flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), \"Edit Profile Settings\") : React.createElement(FollowButtonToggle, {\n    handleClick: handleClick,\n    currentUser: currentUser,\n    profile: profile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-xs-12 col-md-10 offset-md-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, articles && React.createElement(ArticlePreviews, {\n    articles: articles,\n    articlesCount: articlesCount,\n    fetchingStatus: fetchingStatus,\n    currentTab: GLOBAL_FEED,\n    setArticles: setArticles,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  })))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.auth.currentUser,\n    articles: state.articles,\n    articlesCount: state.articlesCount\n  };\n};\n\nexport default connect(mapStateToProps)(Profile);","map":{"version":3,"sources":["/home/jelly/Desktop/conduit_clone/src/components/Profile/index.js"],"names":["React","useState","useEffect","FollowButtonToggle","connect","axios","FaCog","history","getProfile","getArticlesByAuthor","ArticlePreviews","GLOBAL_FEED","FETCHING","FETCH_OK","FETCH_ERROR","Profile","props","currentUser","profile","setProfile","articles","setArticles","articlesCount","setArticlesCount","fetchingStatus","setFetchingStatus","match","params","id","then","res","catch","err","handleClick","following","delete","process","env","REACT_APP_API","username","post","image","bio","push","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport FollowButtonToggle from './FollowButtonToggle';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { FaCog } from 'react-icons/fa';\n\nimport history from '../../constants/history';\nimport { getProfile } from '../../actions/profile';\nimport { getArticlesByAuthor } from '../../actions/articles';\nimport ArticlePreviews from '../../components/ArticlePreviews';\nimport { GLOBAL_FEED } from '../../constants/tabName';\nimport {\n  FETCHING,\n  FETCH_OK,\n  FETCH_ERROR,\n} from '../../constants/fetchingStatus';\n\nconst Profile = props => {\n  const { currentUser } = props;\n  const [profile, setProfile] = useState({});\n  const [articles, setArticles] = useState({});\n  const [articlesCount, setArticlesCount] = useState({});\n  const [fetchingStatus, setFetchingStatus] = useState(FETCHING);\n\n  useEffect(() => {\n    getProfile(props.match.params.id)\n      .then(res => {\n        setProfile(res);\n      })\n      .catch(err => {\n        throw err;\n      });\n    getArticlesByAuthor(props.match.params.id)\n      .then(res => {\n        setArticles(res.articles);\n        setArticlesCount(res.articlesCount);\n        setFetchingStatus(FETCH_OK);\n      })\n      .catch(err => {\n        setFetchingStatus(FETCH_ERROR);\n        throw err;\n      });\n  }, [props.match.params.id]);\n\n  const handleClick = following => {\n    following\n      ? axios\n          .delete(\n            `${process.env.REACT_APP_API}/profiles/${profile.username}/follow`,\n          )\n          .then()\n      : axios\n          .post(\n            `${process.env.REACT_APP_API}/profiles/${profile.username}/follow`,\n          )\n          .then();\n  };\n\n  return (\n    <div className=\"sm:px-8 sm:px-8 md:px-32 lg:px-32 py-4\">\n      <div className=\"bg-gray-200 text-gray-600\">\n        {profile && (\n          <div className=\"flex flex-wrap\">\n            <div className=\"flex justify-center items-center\">\n              <img\n                src={profile.image}\n                className=\"h-16 w-16 rounded-full\"\n                alt={profile.username}\n              />\n            </div>\n            <h4 className=\"w-full flex justify-center font-bold\">\n              {profile.username}\n            </h4>\n            <p className=\"w-full flex justify-center\">{profile.bio}</p>\n\n            {currentUser && currentUser.username === profile.username ? (\n              <button\n                className=\"w-full flex justify-center\"\n                onClick={() => history.push('/settings')}\n              >\n                <FaCog className=\"inline-flex\" />\n                Edit Profile Settings\n              </button>\n            ) : (\n              <FollowButtonToggle\n                handleClick={handleClick}\n                currentUser={currentUser}\n                profile={profile}\n              />\n            )}\n          </div>\n        )}\n      </div>\n\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-md-10 offset-md-1\">\n            {articles && (\n              <ArticlePreviews\n                articles={articles}\n                articlesCount={articlesCount}\n                fetchingStatus={fetchingStatus}\n                currentTab={GLOBAL_FEED}\n                setArticles={setArticles}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.auth.currentUser,\n    articles: state.articles,\n    articlesCount: state.articlesCount,\n  };\n};\nexport default connect(mapStateToProps)(Profile);\n"]},"metadata":{},"sourceType":"module"}