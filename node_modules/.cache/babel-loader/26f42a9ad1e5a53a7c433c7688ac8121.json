{"ast":null,"code":"var _jsxFileName = \"/home/jelly/Desktop/conduit_clone/src/components/Settings.js\";\nimport React from 'react';\nimport { Form, Field } from 'react-final-form';\nimport { connect } from 'react-redux';\nimport { store } from '../store';\nimport { logout, updateUser } from '../actions/auth';\nimport history from '../constants/history';\n\nvar diff = require('deep-object-diff').diff;\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.auth.currentUser\n  };\n};\n\nconst Settings = props => {\n  const currentUser = props.currentUser;\n  return React.createElement(\"div\", {\n    className: \"settings-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6 offset-md-3 col-xs-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"text-xs-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, \"Your Settings\"), currentUser && React.createElement(SettingsForm, {\n    currentUser: currentUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6 offset-md-3 col-xs-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"text-xs-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: logout,\n    className: \"btn btn-outline-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Or click here to logout.\"))))));\n};\n\nexport default connect(mapStateToProps)(Settings);\n\nconst SettingsForm = props => {\n  const currentUser = props.currentUser;\n  const initialValues = {\n    image: \"\".concat(currentUser.image),\n    username: \"\".concat(currentUser.username),\n    bio: \"\".concat(currentUser.bio),\n    email: \"\".concat(currentUser.email)\n  };\n\n  const handleSubmit = values => {\n    let changedProfileFields = diff(initialValues, values);\n\n    if (Object.entries(changedProfileFields).length === 0 && changedProfileFields.constructor === Object) {\n      history.push('/');\n    }\n\n    return store.dispatch(updateUser(changedProfileFields));\n  };\n\n  return React.createElement(Form, {\n    onSubmit: values => handleSubmit(values),\n    initialValues: initialValues,\n    render: ({\n      handleSubmit,\n      form,\n      submitting,\n      values\n    }) => React.createElement(\"form\", {\n      onSubmit: values => handleSubmit(values),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"image\",\n      component: \"input\",\n      type: \"text\",\n      placeholder: \"URL of profile picture\",\n      className: \"form-control form-control-lg\",\n      rows: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"username\",\n      component: \"input\",\n      type: \"text\",\n      placeholder: \"Username\",\n      className: \"form-control form-control-lg\",\n      rows: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"bio\",\n      component: \"input\",\n      type: \"textarea\",\n      placeholder: \"Short bio about you\",\n      className: \"form-control form-control-lg\",\n      rows: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"email\",\n      component: \"input\",\n      type: \"email\",\n      placeholder: \"Email\",\n      className: \"form-control form-control-lg\",\n      rows: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"password\",\n      component: \"input\",\n      type: \"password\",\n      placeholder: \"New Password\",\n      className: \"form-control form-control-lg\",\n      rows: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-lg btn-primary pull-xs-right\",\n      href: \"/\",\n      type: \"submit\",\n      disabled: submitting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Submit\"))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  });\n};","map":{"version":3,"sources":["/home/jelly/Desktop/conduit_clone/src/components/Settings.js"],"names":["React","Form","Field","connect","store","logout","updateUser","history","diff","require","mapStateToProps","state","currentUser","auth","Settings","props","SettingsForm","initialValues","image","username","bio","email","handleSubmit","values","changedProfileFields","Object","entries","length","constructor","push","dispatch","form","submitting"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Field } from 'react-final-form';\nimport { connect } from 'react-redux';\n\nimport { store } from '../store';\nimport { logout, updateUser } from '../actions/auth';\n\nimport history from '../constants/history';\nvar diff = require('deep-object-diff').diff;\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.auth.currentUser,\n  };\n};\nconst Settings = props => {\n  const { currentUser } = props;\n  return (\n    <div className=\"settings-page\">\n      <div className=\"container page\">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3 col-xs-12\">\n            <h1 className=\"text-xs-center\">Your Settings</h1>\n            {currentUser && <SettingsForm currentUser={currentUser} />}\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3 col-xs-12\">\n            <h1 className=\"text-xs-center\">\n              <hr />\n              <button onClick={logout} className=\"btn btn-outline-danger\">\n                Or click here to logout.\n              </button>\n            </h1>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default connect(mapStateToProps)(Settings);\n\nconst SettingsForm = props => {\n  const { currentUser } = props;\n  const initialValues = {\n    image: `${currentUser.image}`,\n    username: `${currentUser.username}`,\n    bio: `${currentUser.bio}`,\n    email: `${currentUser.email}`,\n  };\n  const handleSubmit = values => {\n    let changedProfileFields = diff(initialValues, values);\n    if (\n      Object.entries(changedProfileFields).length === 0 &&\n      changedProfileFields.constructor === Object\n    ) {\n      history.push('/');\n    }\n    return store.dispatch(updateUser(changedProfileFields));\n  };\n  return (\n    <Form\n      onSubmit={values => handleSubmit(values)}\n      initialValues={initialValues}\n      render={({ handleSubmit, form, submitting, values }) => (\n        <form onSubmit={values => handleSubmit(values)}>\n          <div className=\"form-group\">\n            <Field\n              name=\"image\"\n              component=\"input\"\n              type=\"text\"\n              placeholder=\"URL of profile picture\"\n              className=\"form-control form-control-lg\"\n              rows=\"8\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <Field\n              name=\"username\"\n              component=\"input\"\n              type=\"text\"\n              placeholder=\"Username\"\n              className=\"form-control form-control-lg\"\n              rows=\"8\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <Field\n              name=\"bio\"\n              component=\"input\"\n              type=\"textarea\"\n              placeholder=\"Short bio about you\"\n              className=\"form-control form-control-lg\"\n              rows=\"8\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <Field\n              name=\"email\"\n              component=\"input\"\n              type=\"email\"\n              placeholder=\"Email\"\n              className=\"form-control form-control-lg\"\n              rows=\"8\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <Field\n              name=\"password\"\n              component=\"input\"\n              type=\"password\"\n              placeholder=\"New Password\"\n              className=\"form-control form-control-lg\"\n              rows=\"8\"\n            />\n          </div>\n          <div className=\"buttons\">\n            <button\n              className=\"btn btn-lg btn-primary pull-xs-right\"\n              href=\"/\"\n              type=\"submit\"\n              disabled={submitting}\n            >\n              Submit\n            </button>\n          </div>\n        </form>\n      )}\n    />\n  );\n};\n"]},"metadata":{},"sourceType":"module"}