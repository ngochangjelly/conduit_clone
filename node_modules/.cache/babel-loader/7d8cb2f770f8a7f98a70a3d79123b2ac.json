{"ast":null,"code":"import axios from 'axios';\nimport { baseUrl } from '../constants/baseUrl';\nimport { REMOVE_COMMENT } from '../constants/actionTypes';\nimport { store } from '../store';\nexport const dispatchRemoveComment = data => {\n  return {\n    type: REMOVE_COMMENT,\n    data\n  };\n};\nexport const removeComment = (articleID, commentID) => {\n  let config = {\n    headers: {\n      Authorization: \"Token \".concat(store.getState().auth.currentUser.token)\n    }\n  };\n  return axios.delete(\"\".concat(baseUrl, \"/articles/\").concat(articleID, \"/comments/\").concat(commentID), config).then(res => {\n    return commentID;\n  }).catch(error => {\n    throw error;\n  });\n};\nexport const getCommentsByArticle = data => {\n  return axios.get(\"\".concat(baseUrl, \"/articles/\").concat(data, \"/comments\")).then(response => {\n    return response.data.comments;\n  }).catch(error => {\n    throw error;\n  });\n};\nexport const postComment = (id, data) => {\n  let config = {\n    headers: {\n      Authorization: \"Token \".concat(store.getState().auth.currentUser.token)\n    }\n  };\n  return axios.post(\"\".concat(baseUrl, \"/articles/\").concat(id, \"/comments\"), {\n    comment: {\n      body: data\n    }\n  }, config).then(res => {\n    return res.data.comment;\n  }).catch(error => {\n    throw error;\n  });\n};","map":{"version":3,"sources":["/home/jelly/Desktop/conduit_clone/src/actions/comments.js"],"names":["axios","baseUrl","REMOVE_COMMENT","store","dispatchRemoveComment","data","type","removeComment","articleID","commentID","config","headers","Authorization","getState","auth","currentUser","token","delete","then","res","catch","error","getCommentsByArticle","get","response","comments","postComment","id","post","comment","body"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,OAAT,QAAwB,sBAAxB;AAEA,SAASC,cAAT,QAA+B,0BAA/B;AACA,SAASC,KAAT,QAAsB,UAAtB;AACA,OAAO,MAAMC,qBAAqB,GAAGC,IAAI,IAAI;AAC3C,SAAO;AACLC,IAAAA,IAAI,EAAEJ,cADD;AAELG,IAAAA;AAFK,GAAP;AAID,CALM;AAOP,OAAO,MAAME,aAAa,GAAG,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACrD,MAAIC,MAAM,GAAG;AACXC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,kBAAWT,KAAK,CAACU,QAAN,GAAiBC,IAAjB,CAAsBC,WAAtB,CAAkCC,KAA7C;AADN;AADE,GAAb;AAKA,SAAOhB,KAAK,CACTiB,MADI,WACMhB,OADN,uBAC0BO,SAD1B,uBACgDC,SADhD,GAC6DC,MAD7D,EAEJQ,IAFI,CAECC,GAAG,IAAI;AACX,WAAOV,SAAP;AACD,GAJI,EAKJW,KALI,CAKEC,KAAK,IAAI;AACd,UAAMA,KAAN;AACD,GAPI,CAAP;AAQD,CAdM;AAeP,OAAO,MAAMC,oBAAoB,GAAGjB,IAAI,IAAI;AAC1C,SAAOL,KAAK,CACTuB,GADI,WACGtB,OADH,uBACuBI,IADvB,gBAEJa,IAFI,CAECM,QAAQ,IAAI;AAChB,WAAOA,QAAQ,CAACnB,IAAT,CAAcoB,QAArB;AACD,GAJI,EAKJL,KALI,CAKEC,KAAK,IAAI;AACd,UAAMA,KAAN;AACD,GAPI,CAAP;AAQD,CATM;AAUP,OAAO,MAAMK,WAAW,GAAG,CAACC,EAAD,EAAKtB,IAAL,KAAc;AACvC,MAAIK,MAAM,GAAG;AACXC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,kBAAWT,KAAK,CAACU,QAAN,GAAiBC,IAAjB,CAAsBC,WAAtB,CAAkCC,KAA7C;AADN;AADE,GAAb;AAKA,SAAOhB,KAAK,CACT4B,IADI,WAEA3B,OAFA,uBAEoB0B,EAFpB,gBAGH;AAAEE,IAAAA,OAAO,EAAE;AAAEC,MAAAA,IAAI,EAAEzB;AAAR;AAAX,GAHG,EAIHK,MAJG,EAMJQ,IANI,CAMCC,GAAG,IAAI;AACX,WAAOA,GAAG,CAACd,IAAJ,CAASwB,OAAhB;AACD,GARI,EASJT,KATI,CASEC,KAAK,IAAI;AACd,UAAMA,KAAN;AACD,GAXI,CAAP;AAYD,CAlBM","sourcesContent":["import axios from 'axios';\n\nimport { baseUrl } from '../constants/baseUrl';\n\nimport { REMOVE_COMMENT } from '../constants/actionTypes';\nimport { store } from '../store';\nexport const dispatchRemoveComment = data => {\n  return {\n    type: REMOVE_COMMENT,\n    data,\n  };\n};\n\nexport const removeComment = (articleID, commentID) => {\n  let config = {\n    headers: {\n      Authorization: `Token ${store.getState().auth.currentUser.token}`,\n    },\n  };\n  return axios\n    .delete(`${baseUrl}/articles/${articleID}/comments/${commentID}`, config)\n    .then(res => {\n      return commentID;\n    })\n    .catch(error => {\n      throw error;\n    });\n};\nexport const getCommentsByArticle = data => {\n  return axios\n    .get(`${baseUrl}/articles/${data}/comments`)\n    .then(response => {\n      return response.data.comments;\n    })\n    .catch(error => {\n      throw error;\n    });\n};\nexport const postComment = (id, data) => {\n  let config = {\n    headers: {\n      Authorization: `Token ${store.getState().auth.currentUser.token}`,\n    },\n  };\n  return axios\n    .post(\n      `${baseUrl}/articles/${id}/comments`,\n      { comment: { body: data } },\n      config,\n    )\n    .then(res => {\n      return res.data.comment;\n    })\n    .catch(error => {\n      throw error;\n    });\n};\n"]},"metadata":{},"sourceType":"module"}