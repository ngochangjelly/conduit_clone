{"ast":null,"code":"import _slicedToArray from \"/home/jelly/Desktop/conduit_clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jelly/Desktop/conduit_clone/src/components/Login.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Field } from 'react-final-form';\nimport { connect } from 'react-redux';\nimport { login } from '../actions/auth';\nimport { store } from '../store';\nimport { FETCHING, FETCH_ERROR } from '../constants/fetchingStatus';\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.auth.currentUser\n  };\n};\n\nconst Login = props => {\n  const _useState = useState(undefined),\n        _useState2 = _slicedToArray(_useState, 2),\n        fetchingStatus = _useState2[0],\n        setFetchingStatus = _useState2[1];\n\n  const handleSubmit = values => {\n    setFetchingStatus(FETCHING);\n    return store.dispatch(login(values)).catch(err => {\n      setFetchingStatus(FETCH_ERROR);\n      throw err;\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"flex justify-center sm:px-8 sm:px-8 md:px-16 py-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"sm:w-3/4 md:w-3/4 lg:w-1/3 bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"flex justify-center text-lg text-gray-600 font-bold pb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"Sign In\"), React.createElement(\"p\", {\n    className: \"flex justify-center text-sm text-gray-600 pb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Need an account?\")), fetchingStatus === FETCHING && React.createElement(\"p\", {\n    className: \"text-gray-600 text-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Loading...\"), fetchingStatus === FETCH_ERROR && React.createElement(\"ul\", {\n    className: \"text-gray-600 text-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"email or password is invalid\")), React.createElement(Form, {\n    onSubmit: values => handleSubmit(values),\n    render: ({\n      handleSubmit,\n      form,\n      submitting,\n      pristine,\n      values\n    }) => React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"username\",\n      component: \"input\",\n      type: \"text\",\n      placeholder: \"Username\",\n      required: true,\n      className: \"text-sm text-gray-600 text-sm appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"password\",\n      component: \"input\",\n      type: \"password\",\n      placeholder: \"Password\",\n      required: true,\n      className: \"text-sm text-gray-600 text-sm appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      href: \"/\",\n      type: \"submit\",\n      disabled: submitting || pristine,\n      className: \"text-sm bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Submit\")),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })));\n};\n\nexport default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["/home/jelly/Desktop/conduit_clone/src/components/Login.js"],"names":["React","useState","Link","Form","Field","connect","login","store","FETCHING","FETCH_ERROR","mapStateToProps","state","currentUser","auth","Login","props","undefined","fetchingStatus","setFetchingStatus","handleSubmit","values","dispatch","catch","err","form","submitting","pristine"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Field } from 'react-final-form';\nimport { connect } from 'react-redux';\n\nimport { login } from '../actions/auth';\nimport { store } from '../store';\nimport { FETCHING, FETCH_ERROR } from '../constants/fetchingStatus';\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.auth.currentUser,\n  };\n};\nconst Login = props => {\n  const [fetchingStatus, setFetchingStatus] = useState(undefined);\n  const handleSubmit = values => {\n    setFetchingStatus(FETCHING);\n    return store.dispatch(login(values)).catch(err => {\n      setFetchingStatus(FETCH_ERROR);\n      throw err;\n    });\n  };\n  return (\n    <div className=\"flex justify-center sm:px-8 sm:px-8 md:px-16 py-8\">\n      <div className=\"sm:w-3/4 md:w-3/4 lg:w-1/3 bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\n        <h1 className=\"flex justify-center text-lg text-gray-600 font-bold pb-4\">\n          Sign In\n        </h1>\n        <p className=\"flex justify-center text-sm text-gray-600 pb-4\">\n          <Link to=\"/register\">Need an account?</Link>\n        </p>\n        {fetchingStatus === FETCHING && (\n          <p className=\"text-gray-600 text-sm\">Loading...</p>\n        )}\n        {fetchingStatus === FETCH_ERROR && (\n          <ul className=\"text-gray-600 text-sm\">\n            <li>email or password is invalid</li>\n          </ul>\n        )}\n        <Form\n          onSubmit={values => handleSubmit(values)}\n          render={({ handleSubmit, form, submitting, pristine, values }) => (\n            <form onSubmit={handleSubmit}>\n              <div className=\"mb-4\">\n                <Field\n                  name=\"username\"\n                  component=\"input\"\n                  type=\"text\"\n                  placeholder=\"Username\"\n                  required\n                  className=\"text-sm text-gray-600 text-sm appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"\n                />\n              </div>\n              <div className=\"mb-4\">\n                <Field\n                  name=\"password\"\n                  component=\"input\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  required\n                  className=\"text-sm text-gray-600 text-sm appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"\n                />\n              </div>\n              <br />\n              <button\n                href=\"/\"\n                type=\"submit\"\n                disabled={submitting || pristine}\n                className=\"text-sm bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n              >\n                Submit\n              </button>\n            </form>\n          )}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}